# Лабораторная работа 2

**Название:** "Разработка драйверов блочных устройств"

**Цель работы:** Получение навыков разработки блочных устройств, создания дисков и деления их на разделы.

## Описание функциональности драйвера

Драйвер блочного устройства создает один первичный раздел размером 20Мбайт и один  расширенный раздел, содержащий три логических раздела  размером 10Мбайт каждый.

## Инструкция по сборке

1. Сборка проекта: `make`.

2. Создайте файлы дисков (sudo mkdir /dev/mydisk1 (/dev/mydisk2, /dev/mydisk5, /dev/mydisk6, /dev/mydisk7))

3. Добавление драйвера в ядро, создание файловых систем, создание точек монтирования `make do`

4. Команды для проверки:
  
- Проверка созданных дисков: `sudo fdisk -l /dev/mydisk`
  
- Проверка созданных файловых систем: `df -h`
  
- Сообщения логов в кольцевом бувере: `dmesg`

5. Удаление модуля из ядра и размонтирование файловых систем: `make rm` 

## Примеры использования

Проведем проверки после сборки программы и добавления ее в ядро системы. 

1. Вывод команды `sudo fdisk -l /dev/mydisk`:



2. Вывод команды `df -h` для проверки точек монтирования:



3. Сообщения в кольцевом буфере:



## Профилирование

Копирование между разделами виртуального диска (из mydisk1 в mydisk6) и копирование из реального диска в виртуальный диск (из /dev/sda/ в mysidk6) 


